{# empty Twig template #}
{% extends "MealSquareCommonBundle::layout.html.twig" %}


{% block title %}
    {{recette.titre}}  - {{ parent() }}
{% endblock %}

{% block main %}

    <main class="main" role="main">
        <!--wrap-->
        <div class="wrap clearfix">
            <!--breadcrumbs-->
            <nav class="breadcrumbs">
                <ul>
                    <li><a href="{{path('meal_square_common_homepage')}}" title="{{ 'common.menu.home'|trans }}">{{ 'common.menu.home'|trans }}</a></li>
                    <li><a href="{{path('meal_square_recette_list')}}" title="{{ 'common.menu.recettes'|trans }}">{{ 'common.menu.recettes'|trans }}</a></li>          
                    <li> {{recette.titre}}</li>
                </ul>
            </nav>
        </div>
        <!--//breadcrumbs-->
        <div class="wrap clearfix">
            <!--row-->
            <div class="row">
                <header class="s-title wow fadeInLeft">
                    <h1>{{recette.titre}}</h1>
                </header>
                <!--content-->
                <section class="content three-fourth">
                    <!--recipe-->
                    <div class="recipe">
                        <div class="row">
                            <!--two-third-->
                            <article class="two-third wow fadeInLeft">
                                <div class="image">{% thumbnail recette.image,'big' %}</div>
                                <div class="intro">
                                    <p><strong>{{ 'form.add.description_text'|trans({},'messages') }}</strong></p> 
                                    <p>
                                        {% if recette.description is not null %}
                                            {{ recette.description }}
                                        {% else %}
                                            {{ 'recettes.no_description'|trans({},'messages') }}
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="instructions">
                                    <ol>
                                        {% for block in recette.getRecetteBlocks() %}
                                            <li>{{ block.description | raw }}</li>
                                            {% endfor %}    
                                    </ol>
                                </div>
                            </article>
                            <!--//two-third-->

                            <!--one-third-->
                            <article class="one-third wow fadeInDown">
                                <dl class="basic">
                                    <dt>{{ 'recettes.preparation_time'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getTempsPreparation()}} min</dd>
                                    <dt>{{ 'recettes.coocking_time'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getTempsCuisson()}} min</dd>
                                    <dt>{{ 'recettes.difficulty'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getDifficulte()}}</dd>
                                    <dt>{{ 'recettes.serves'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getNbPersonne()}}</dd>
                                    <dt>{{ 'recettes.saison'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getSaison()}}</dd>
                                    <dt>{{ 'recettes.speciality'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getSpecialite()}}</dd>
                                </dl>

                                <dl class="user">
                                    <dt>{{ 'recettes.category'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getCategorie()}}</dd>
                                    <dt>{{ 'recettes.autor'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getAuteur()}}</dd>
                                    <dt>{{ 'recettes.source'|trans({},'messages') }}</dt>
                                    <dd>{{recette.getSource()}}</dd>
                                </dl>
                                
                                {% if recette.isIngredientsFormatted %}
                                    <dl class="ingredients">
                                        {% for ingr in recette.ingredients %}
                                            <dt>{{ingr.quantite}}</dt>
                                            <dd>{{ingr.ingredient.libelle}}</dd>
                                        {% endfor %}
                                    </dl>
                                {% else %}
                                    <div class="widget">
                                        <h3>{{ 'recettes.ingredient_small_title'|trans({},'messages') }}</h3>
                                        <ul class=" ingredient-non-formatted">
                                            {{ recette.fullIngredients | raw }}
                                        </ul>
                                    </div>
                                {% endif %}
                                
                            </article>
                            <!--//one-third-->
                        </div>
                    </div>
                    <!--//recipe-->

                    <!--comments-->
                    <div class="comments wow fadeInUp" id="comments">
                        <h2 style="text-align: center">Vous avez ou comptez tester cette recette ? Dites ce que vous en pensez.</h2>
                        {{ include( 'MealSquareRecetteBundle:Disqus:comment.html.twig', { 'recette': recette } ) }}
                    </div>
                    <!--//comments-->
                </section>
                <!--//content-->

                <!--right sidebar-->
                <aside class="sidebar one-fourth wow fadeInRight">
                    <div class="widget nutrition">
                        <h3>Nutrition facts <span>(per serving)</span></h3>
                        <table>
                            <tr>
                                <td>Calories </td>
                                <td>505</td>
                            </tr>
                            <tr>
                                <td>Protein</td>
                                <td>59g</td>
                            </tr>
                            <tr>
                                <td>Carbs</td>
                                <td>59g</td>
                            </tr>
                            <tr>
                                <td>Fat</td>
                                <td>29g</td>
                            </tr>
                            <tr>
                                <td>Saturates</td>
                                <td>17g</td>
                            </tr>
                            <tr>
                                <td>Fibre</td>
                                <td>2g</td>
                            </tr>
                            <tr>
                                <td>Sugar</td>
                                <td>44g</td>
                            </tr>
                            <tr>
                                <td>Salt</td>
                                <td>0.51g</td>
                            </tr>
                        </table>
                    </div>

                    <div class="widget share">
                        <h3>{{ 'recettes.share'|trans({},'messages') }}</h3>
                        <ul class="boxed">
                            <li class="light"><a href="#"title="{{ 'recettes.share_facebook'|trans({},'messages') }}"><i class="ico i-facebook"></i> <span>{{ 'recettes.share_facebook'|trans({},'messages') }}</span></a></li>
                            <li class="medium"><a href="#" title="{{ 'recettes.share_twitter'|trans({},'messages') }}"><i class="ico i-twitter"></i> <span>{{ 'recettes.share_twitter'|trans({},'messages') }}</span></a></li>
                            <li class="dark"><a href="#" title="{{ 'recettes.like'|trans({},'messages') }}"><i class="ico i-favourites"></i> <span>{{ 'recettes.like'|trans({},'messages') }}</span></a></li>
                        </ul>
                    </div>
                    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                    <div class="widget share">
                        <h3>{{ 'recettes.edition'|trans({},'messages') }}</h3>
                        <ul class="boxed">
                            {% if recette.auteur is not null and app.user is not null and app.user.id == recette.auteur.id %}
                                <li class="light"><a href="{{ path('meal_square_recette_edit',{ 'id':recette.id }) }}"  title="{{ 'recettes.edit'|trans({},'messages') }}"><i class="fa fa-3x fa-edit" ></i> <span>{{ 'recettes.edit'|trans({},'messages') }}</span></a></li>
                                <li class="medium"><a href="{{ path('meal_square_recette_delete',{ 'id':recette.id }) }}"  title="{{ 'recettes.remove'|trans({},'messages') }}"><i class="fa fa-3x fa-trash"></i> <span>{{ 'recettes.remove'|trans({},'messages') }}</span></a></li>
                            {% else %}
                                <li class="light link-not-activated"><a href="#"  title="{{ 'recettes.edit'|trans({},'messages') }}"><i class="fa fa-3x fa-edit" ></i> <span>{{ 'recettes.edit'|trans({},'messages') }}</span></a></li>
                                <li class="medium link-not-activated"><a href="#"  title="{{ 'recettes.remove'|trans({},'messages') }}"><i class="fa fa-3x fa-trash"></i> <span>{{ 'recettes.remove'|trans({},'messages') }}</span></a></li>
                            {% endif %}
                            <li class="dark"><a href="{{ path('meal_square_recette_favoris_add',{ 'id':recette.id }) }}" title="{{ 'recettes.add_favourite'|trans({},'messages') }}"><i class="fa fa-3x fa-star"></i> <span>{{ 'recettes.add_favourite'|trans({},'messages') }}</span></a></li>
                        </ul>
                    </div>
                    {% endif %}

                    <div class="widget members">
                        <h3>{{ 'recettes.who_liked'|trans({},'messages') }}</h3>
                        <ul class="boxed">
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Kimberly C.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Alex J.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Denise M.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Jason H.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Jennifer W.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Anabelle Q.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Thomas M.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Michelle S.</span></a></div></li>
                            <li><div class="avatar"><a href="my_profile.html"><img src="images/avatar.jpg" alt="" /><span>Bryan A.</span></a></div></li>
                        </ul>
                    </div>
                </aside>
                <!--//right sidebar-->
            </div>
            <!--//row-->
        </div>
        <!--//wrap-->
    </main>
    <!--//main-->
{% endblock %}
{% block script %}
    <script> new WOW().init();</script>
{% endblock %}
